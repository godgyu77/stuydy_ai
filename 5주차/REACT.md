# 📘 모던 리액트 Deep Dive — 6장\~10장 상세 정리

## 6장. 리액트 개발 도구(React DevTools)로 디버깅하기

### 6.1 개요

* 브라우저 확장(Chrome/Firefox)으로, **컴포넌트 트리/props/state/hook 값**을 실시간 확인하고, \*\*렌더링 성능(Profiler)\*\*을 분석합니다.&#x20;

### 6.2 Components 탭 (핵심 관찰 포인트)

* **트리 구조**: 현재 렌더된 컴포넌트 계층 확인, 특정 노드 선택 시 props/state/hook 값 노출.
* **Hooks 패널**: `useState`, `useReducer`, `useMemo` 등 내부 상태 흐름을 직접 확인해 원인 지점 추적.
* **UI 상호작용 중 변동 감시**: 입력/클릭 직후 값 변화 관찰로 “변경 → 리렌더” 경로를 눈으로 확인.&#x20;

### 6.3 Profiler 탭 (성능 분석 절차)

1. **Record 시작** → 앱에서 사용자 시나리오 수행 → **Stop**.
2. **Commit 리스트**에서 프레임별 렌더 비용, 어떤 컴포넌트가(왜) 렌더되었는지 파악.
3. **불필요 렌더 감지**: 값이 변하지 않았는데 렌더된 컴포넌트는 메모이제이션/의존성 최적화 후보.
4. **개선-재측정 루프**로 최적화 효과를 정량 확인.&#x20;

> 실무 팁
>
> * 리스트/대용량 영역부터 Profiler로 측정하여 **핫스팟**을 우선 개선.
> * `React.memo`, `useMemo`, `useCallback` 적용 시 **전/후**를 반드시 측정해 유효성 확인.&#x20;

---

## 7장. 크롬 개발자 도구로 애플리케이션 분석

### 7.1 도구 개요 및 접근

* **Elements / Sources / Network / Memory** 등으로 **DOM·JS·네트워크·메모리** 전 영역을 추적/디버깅.
* 크롬 최신 버전 기준 소개(도구 기능은 업데이트에 따라 일부 차이 가능).&#x20;

### 7.2 핵심 탭 상세

* **Elements**: DOM/스타일 실시간 수정으로 레이아웃/스타일 이슈 즉시 재현·확인.
* **Sources**: 중단점(conditional 포함), **XHR/Fetch break on**으로 API 지점에서 코드 멈춤.
* **Network**: 요청 순서/지연/캐시 여부, 응답 헤더/본문 확인 → API/정적자산 병목 파악.
* **Memory**:

  * **Heap Snapshot**: 누수 의심 객체 참조 경로를 역추적.
  * **Allocation instrumentation on timeline**: 시간축으로 할당 추이를 보며 특정 상호작용 직후 급증 구간 추적.
  * **Sampling**: 통계적으로 메모리 핫스팟 탐색.&#x20;

### 7.3 Next.js 환경 디버깅 예시

* **서버를 디버그 모드로 실행** → **부하(트래픽) 유입** → **메모리 누수 지점 식별** 절차를 안내.
* SSR/RSC 환경에서도 크롬 도구를 적극 활용해 **서버/클라이언트 병행 진단**.&#x20;

> 실무 팁
>
> * **문제 재현 스크립트**(정해진 클릭/탐색 절차)를 먼저 만들고 측정해야 원인 비교가 쉬움.
> * 메모리/네트워크는 “**증상 캡처 → 가설 → 재현 → 측정 → 수정 → 재측정**” 순으로 진행.&#x20;

---

## 8장. 좋은 리액트 코드 작성을 위한 환경 구축

### 8.1 ESLint — 정적 분석 기반 품질 확보

* **eslint-plugin / eslint-config** 조합으로 팀 합의 규칙을 표준화.
* **커스텀 룰** 제작으로 프로젝트 특화 규칙(예: 금지 패턴, 네이밍 컨벤션) 적용.
* 주의점: 과도한 룰은 생산성 저하 가능 → **위반 빈도/중요도 기준**으로 단계적 도입.&#x20;

### 8.2 React Testing Library — 사용자 관점의 테스트

* **철학**: 구현 세부가 아니라 **사용자 상호작용/접근성 쿼리**(byRole, byLabelText 등) 중심.
* **대상**: 컴포넌트 렌더, 이벤트(클릭/입력), 비동기 상태 전이(`findBy*`, `waitFor`).
* **훅 테스트**: 사용자 정의 훅의 상태 전이/부수효과를 독립 검증.&#x20;

> 실무 팁
>
> * \*\*핵심 플로우(E2E 후보)\*\*부터 RTL로 최소 시나리오 커버.
> * 흔들리는 테스트는 **비동기 타이밍/가짜 타이머/의존성 주입**을 점검.&#x20;

---

## 9장. 모던 리액트 개발·배포 환경 구축(Next.js/CI/CD/배포/Docker)

### 9.1 Next.js 수동 구성(템플릿 없이)

* `tsconfig.json`, `next.config.js`, **ESLint/Prettier**, 스타일 시스템까지 **바닥부터 설정**하는 절차 제시.
* 장점: 초기에 다소 수고롭지만 **장기 유지보수성/일관성**을 확보.&#x20;

### 9.2 깃허브 100% 활용

* **GitHub Actions**로 CI 파이프라인 구축(빌드·테스트·린트 자동화).
* **Marketplace 액션/앱** 재사용으로 구성 시간 절감.
* **Dependabot**으로 취약 의존성 자동 PR → 보안 대응 속도 개선.&#x20;

### 9.3 배포 플랫폼 비교

* **Netlify / Vercel / DigitalOcean** 등 **호스팅 특성/워크플로** 소개 및 선택 가이드.
* 프리뷰/브랜치 배포, 이미지/캐싱, 엣지 기능 등 고려.&#x20;

### 9.4 Dockerize

* **이미지 빌드 → 레지스트리 푸시 → 런타임 배포** 일련의 실습형 가이드.
* 컨테이너 기반으로 **환경 일관성** 확보, 재현 가능한 배포 파이프라인 구성.&#x20;

> 실무 체크리스트
>
> * [ ] `lint/test/build`가 모두 통과되어야 머지 가능(“**PR 보호 규칙**”).
> * [ ] 주요 브랜치에 **프리뷰 배포** 활성화(디자인/기획 검수 가속).
> * [ ] **보안 스캐닝/취약성 알림**(Dependabot) 상시 활성화.&#x20;

---

## 10장. 리액트 17·18 변경 사항

### 10.1 리액트 17 — **점진 업그레이드** 중심

* **신기능 추가보다 호환성 유지**가 핵심.
* **이벤트 위임 변경**: 전역 `document`가 아닌 **루트 컨테이너** 기준 위임으로 충돌/버그 감소.
* **새 JSX Transform**: 자동 변환으로 `import React from 'react'`가 **필수 아님**.
* 결과적으로 16 → 17 **업그레이드 부담이 낮음**(대다수 서비스 무리 없이 이행).&#x20;

### 10.2 리액트 18 — 동시성·DX 개선(주요 하이라이트)

* **새 훅**:

  * `useId`(접근성/서버-클라이언트 일관 ID),
  * `useTransition`(낮은 우선순위 상태 전환),
  * `useDeferredValue`(입력 반응성 유지).
* **`react-dom/client`**: `createRoot` 도입(새 렌더러 진입점).
* **`react-dom/server`**: **스트리밍 SSR**로 빠른 첫 바이트/점진적 렌더링.
* **자동 배치(Automatic Batching)**: 비동기 경로의 다중 state 업데이트도 **한 번에 커밋** → 잦은 리렌더 억제.
* **StrictMode 강화**: 개발 모드에서 마운트/이펙트 이중 호출로 **순수성 테스트 강화**(실서비스엔 영향 없음).
* **Suspense 강화**: 데이터 로딩과 결합한 **로딩 UX** 향상(SSR과 시너지).
* **IE 지원 종료**에 따른 **추가 폴리필 필요**.&#x20;

> 업그레이드 가이드
>
> 1. 17로 먼저 **안전 이행** → 18로 전환(StrictMode 더블 이펙트 이슈는 개발 전용).
> 2. `createRoot`로 마이그레이션, **자동 배치 영향** 있는 로직(의존 순서 가정) 재검토.
> 3. 실사용 경로에서 **Suspense/스트리밍 SSR** 도입 시 전/후 측정으로 UX·TTV(Time to View) 개선을 수치화.&#x20;

---

## 한눈에 보는 실행 로드맵(권고)

1. **DevTools/Profiler 습관화** → 렌더링/상태 흐름을 “보면서” 작업.&#x20;
2. **크롬 도구 네트워크/메모리 루틴화** → API·메모리 병목 상시 점검.&#x20;
3. **ESLint 표준 + 필수 테스트 세트(RTL)** → 기능보다 **품질 파이프라인** 선 구축.&#x20;
4. **Next.js 수동 설정 + GitHub Actions + Dependabot** → **자동화/보안** 기본값.&#x20;
5. **17 → 18 업그레이드** 시 `createRoot`/자동 배치/StrictMode/SSR 개선점 단계 반영.&#x20;

---
